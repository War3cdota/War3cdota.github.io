<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>3. Longest Substring Without Repeating Characters | 庆轩的博客</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Given a string, find the length of the longest substring without repeating characters. Examples: Given &amp;quot;abcabcbb&amp;quot;, the answer is &amp;quot;abc&amp;quot;, which the length is 3. Given &amp;quot;bbbbb&amp;quo">
<meta name="keywords" content="LeetCode-medium,Optimize(优化),快慢指针">
<meta property="og:type" content="article">
<meta property="og:title" content="3. Longest Substring Without Repeating Characters">
<meta property="og:url" content="https://war3cdota.github.io/2017/02/10/3-Longest-Substring-Without-Repeating-Characters/index.html">
<meta property="og:site_name" content="庆轩的博客">
<meta property="og:description" content="Given a string, find the length of the longest substring without repeating characters. Examples: Given &amp;quot;abcabcbb&amp;quot;, the answer is &amp;quot;abc&amp;quot;, which the length is 3. Given &amp;quot;bbbbb&amp;quo">
<meta property="og:image" content="http://i.imgur.com/aZO47aN.png">
<meta property="og:updated_time" content="2017-04-27T09:05:02.056Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="3. Longest Substring Without Repeating Characters">
<meta name="twitter:description" content="Given a string, find the length of the longest substring without repeating characters. Examples: Given &amp;quot;abcabcbb&amp;quot;, the answer is &amp;quot;abc&amp;quot;, which the length is 3. Given &amp;quot;bbbbb&amp;quo">
<meta name="twitter:image" content="http://i.imgur.com/aZO47aN.png">
  
    <link rel="alternate" href="/atom.xml" title="庆轩的博客" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

  <script src="//cdn1.lncld.net/static/js/av-min-1.5.3.js"></script>
  <script>AV.init({appId:"uAfD4ikMWPeXM7raGGN7rIbz-gzGzoHsz", appKey:"HrEv4r0QVo7PzC8k8Ltue8kE"});</script>
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">庆轩的博客</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">仰望星空，脚踏实地！</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
          <a class="main-nav-link" href="/about">About</a>
        
          <a class="main-nav-link" href="/collections">Collections</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://war3cdota.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-3-Longest-Substring-Without-Repeating-Characters" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/02/10/3-Longest-Substring-Without-Repeating-Characters/" class="article-date">
  <time datetime="2017-02-10T03:14:13.000Z" itemprop="datePublished">2017-02-10</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      <div class="article-title-stick">3. Longest Substring Without Repeating Characters</div>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Given a string, find the length of the longest substring without repeating characters.</p>
<p><strong>Examples:</strong></p>
<p>Given <font><code>&quot;abcabcbb&quot;</code></font>, the answer is <font><code>&quot;abc&quot;</code></font>, which the length is 3.</p>
<p>Given <font><code>&quot;bbbbb&quot;</code></font>, the answer is <font><code>&quot;b&quot;</code></font>, with the length of 1.</p>
<p>Given <font><code>&quot;pwwkew&quot;</code></font>, the answer is <font><code>&quot;wke&quot;</code></font>, with the length of 3. Note that the answer must be a substring, <font><code>&quot;pwke&quot;</code></font> is a <em>subsequence</em> and not a <strong>substring</strong>.</p>
<style type="text/css">
font{
color:rgb(199,37,78)
}
</style>

<a id="more"></a>
<h1 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h1><blockquote>
<p>求最长不重复序列。</p>
</blockquote>
<h2 id="循环比对"><a href="#循环比对" class="headerlink" title="循环比对"></a>循环比对</h2><blockquote>
<p>对于所有可能的情况进行比较，找到最长的不重复子序列并保存长度。</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">lengthOfLongestSubstring</span><span class="params">(String s)</span> </span>&#123;</div><div class="line">	<span class="keyword">if</span>(s.length()==<span class="number">0</span>)</div><div class="line">		<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">	<span class="keyword">int</span> len = <span class="number">0</span>,i = <span class="number">0</span>;</div><div class="line">	<span class="keyword">while</span>(i&lt;s.length())&#123;</div><div class="line">		<span class="keyword">int</span> j = i+<span class="number">1</span>;</div><div class="line">		<span class="keyword">while</span>(j&lt;s.length())&#123;</div><div class="line">			<span class="keyword">if</span>(s.substring(i,j).contains(String.valueOf(s.charAt(j))))</div><div class="line">				<span class="keyword">break</span>;</div><div class="line">			j++;</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">if</span>((j-i)&gt;len)</div><div class="line">			len = j-i;</div><div class="line">		i++;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> len;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><code>s.substring(i,j).contains(String.valueOf(s.charAt(j)))</code>这个判断完成了核心的逻辑判断。</p>
<h2 id="HashMap"><a href="#HashMap" class="headerlink" title="HashMap"></a>HashMap</h2><p><strong>分析</strong></p>
<p>这个方法我觉得并没有多少优势，使用下面HashSet方法表述的方法更清晰。</p>
<blockquote>
<p>The basic idea is, keep a hashmap which stores the characters in string as keys and their positions as values, and keep two pointers which define the max substring. move the right pointer to scan through the string , and meanwhile update the hashmap. If the character is already in the hashmap, then move the left pointer to the right of the same character last found. Note that the two pointers can only move forward.</p>
<p>使用Map来存储，<code>字符-索引</code>；<br><br>两个索引：低索引和高索引，默认值为0<br><br>当高索引遍历到重复字符时，低索引将移动到重复字符第一次出现的位置+1（但是有一定很重要，低索引只能增不能减），那么现在高索引处的字符在<code>低索引---高索引</code>组成的子字符串是唯一的。<br><br>每次在比较并存储在最长的子序列。</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> java.util.*;</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LongestSubstringWithoutRepeatingCharacters</span></span>&#123;</div><div class="line">	<span class="comment">//HashMap   This method is very obscure!</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">lengthOfLongestSubstring</span><span class="params">(String s)</span> </span>&#123;</div><div class="line">    	<span class="keyword">if</span>(s.length()==<span class="number">0</span>)</div><div class="line">    		<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">    	<span class="keyword">int</span> max = <span class="number">0</span>;</div><div class="line">    	Map&lt;Character,Integer&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</div><div class="line">    	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>,j=<span class="number">0</span>;i&lt;s.length();i++)&#123;</div><div class="line">    		<span class="keyword">if</span>(map.containsKey(s.charAt(i)))&#123;</div><div class="line">    			<span class="comment">//Note that the two pointers can only move forward.</span></div><div class="line">    			j = Math.max(j,map.get(s.charAt(i))+<span class="number">1</span>);</div><div class="line">    			<span class="comment">// j = map.get(s.charAt(i))+1;</span></div><div class="line">    			System.out.println(<span class="string">"j="</span>+j);</div><div class="line">    		&#125;</div><div class="line">    		map.put(s.charAt(i),i);</div><div class="line">    		max = Math.max(max,i-j+<span class="number">1</span>);</div><div class="line">    	&#125;</div><div class="line">    	<span class="keyword">return</span> max;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><strong>分析：</strong></p>
<p><img src="http://i.imgur.com/aZO47aN.png" alt=""></p>
<h2 id="HashSet"><a href="#HashSet" class="headerlink" title="HashSet"></a>HashSet</h2><p><strong>快慢指针法</strong></p>
<blockquote>
<p>使用快慢指针来解决这个问题，快指针用来添加不存在的字符；而当存在重复字符时，慢指针的作用是用来从字符串的头部删除字符，直到重复的字符被删除为止。</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> java.util.*;</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LongestSubstringWithoutRepeatingCharacters</span></span>&#123;</div><div class="line">	<span class="comment">//HashSet</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">lengthOfLongestSubstring</span><span class="params">(String s)</span> </span>&#123;</div><div class="line">    	<span class="keyword">if</span>(s.length()==<span class="number">0</span>)</div><div class="line">    		<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">    	Set&lt;Character&gt; set = <span class="keyword">new</span> HashSet&lt;Character&gt;();</div><div class="line">    	<span class="keyword">int</span> i = <span class="number">0</span>, j = <span class="number">0</span>,max = <span class="number">0</span>;</div><div class="line">    	<span class="keyword">while</span>(j&lt;s.length())&#123;</div><div class="line">    		<span class="keyword">if</span>(!set.contains(s.charAt(j)))&#123;</div><div class="line">    			set.add(s.charAt(j++));</div><div class="line">    			max = Math.max(max,set.size());</div><div class="line">    		&#125;<span class="keyword">else</span></div><div class="line">    			set.remove(s.charAt(i++));</div><div class="line">    	&#125;</div><div class="line">    	<span class="keyword">return</span> max;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><strong>分析：</strong></p>
<blockquote>
<p>利用了快慢指针来解决这个问题，没有重复元素时，快指针用来添加不存在字符；反之，慢指针用来删除头字符。<br><br>这样做的好处是利用快慢指针可以快速的得到所有可能的不重复子串。</p>
</blockquote>
<h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><blockquote>
<p>最简单易懂的方法是使用循环遍历出所有可能的结果，并筛选出最长的子字符串。时间复杂度达到了O(N2)<br><br>使用HashMap或者HashSet简化时间复杂度到O(N)。</p>
</blockquote>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://war3cdota.github.io/2017/02/10/3-Longest-Substring-Without-Repeating-Characters/" data-id="cj2a4i7zk000hwklmo6xsrg5p" class="article-share-link">Share</a>
      
        <a href="/2017/02/10/3-Longest-Substring-Without-Repeating-Characters/#comments" class="article-comment-link">留言</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/LeetCode-medium/">LeetCode-medium</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Optimize-优化/">Optimize(优化)</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/快慢指针/">快慢指针</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2017/02/08/2-Add-Two-Numbers/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          2. Add Two Numbers
        
      </div>
    </a>
  
  
    <a href="/2017/03/07/24-Swap-Nodes-in-Pairs/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">24. Swap Nodes in Pairs</div>
    </a>
  
</nav>

  
</article>


<section id="comments">
  <!-- 多说评论框 start -->
  <div class="ds-thread" data-thread-key="post-3-Longest-Substring-Without-Repeating-Characters" data-title="3. Longest Substring Without Repeating Characters" data-url="https://war3cdota.github.io/2017/02/10/3-Longest-Substring-Without-Repeating-Characters/"></div>
  <!-- 多说评论框 end -->
  <!-- 多说公共JS代码 start (一个网页只需插入一次) -->
  <script type="text/javascript">
  var duoshuoQuery = {short_name:'war3cdota'};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0] 
       || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>
  <!-- 多说公共JS代码 end -->
</section>
</section>
        
          <aside id="sidebar">
  
    
<div class="widget-wrap" style="height:160px;">
  <h3 class="widget-title">关于我</h3>
  <img class="widget-head" src="https://war3cdota.github.io/images/head.png"></img>
  <div class="widget" style="margin-left:105px;">
    <ul class="entry">
    
      
      <li><a href="http://htmlpreview.github.io/?https://github.com/War3cdota/LQX-Wasu/blob/master/README.html" target="_blank">个人简历</a></li>
    
      
      <li><a href="https://github.com/War3cdota" target="_blank">github</a></li>
    
      
      <li><a href="http://blog.csdn.net/war3cdota" target="_blank">csdn</a></li>
    
    </ul>
  </div>
</div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签</h3>
    <div class="widget tagcloud">
      <a href="/tags/2016/" style="font-size: 10px;">2016</a> <a href="/tags/Boundary-Check-边界值检测/" style="font-size: 15px;">Boundary Check(边界值检测)</a> <a href="/tags/DP-动态规划/" style="font-size: 11.67px;">DP(动态规划)</a> <a href="/tags/JavaScript/" style="font-size: 13.33px;">JavaScript</a> <a href="/tags/LeetCode-easy/" style="font-size: 20px;">LeetCode-easy</a> <a href="/tags/LeetCode-medium/" style="font-size: 11.67px;">LeetCode-medium</a> <a href="/tags/LinkedList-链表/" style="font-size: 13.33px;">LinkedList(链表)</a> <a href="/tags/Optimize-优化/" style="font-size: 18.33px;">Optimize(优化)</a> <a href="/tags/Queue-队列/" style="font-size: 10px;">Queue(队列)</a> <a href="/tags/Stack-栈/" style="font-size: 10px;">Stack(栈)</a> <a href="/tags/Web开发/" style="font-size: 10px;">Web开发</a> <a href="/tags/XSS/" style="font-size: 10px;">XSS</a> <a href="/tags/hosts/" style="font-size: 10px;">hosts</a> <a href="/tags/recursion/" style="font-size: 10px;">recursion</a> <a href="/tags/recursion-递归/" style="font-size: 16.67px;">recursion(递归)</a> <a href="/tags/位运算/" style="font-size: 13.33px;">位运算</a> <a href="/tags/减法思维/" style="font-size: 10px;">减法思维</a> <a href="/tags/双指针-逼近法/" style="font-size: 10px;">双指针+逼近法</a> <a href="/tags/嵌套指针/" style="font-size: 10px;">嵌套指针</a> <a href="/tags/快慢指针/" style="font-size: 10px;">快慢指针</a> <a href="/tags/连续性判断/" style="font-size: 10px;">连续性判断</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">日期存档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">May 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">April 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">March 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">February 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">January 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/12/">December 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/09/">September 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/08/">August 2016</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2017/05/04/101-Symmetric-Tree/">101. Symmetric Tree</a>
          </li>
        
          <li>
            <a href="/2017/05/04/100-Same-Tree/">100. Same Tree</a>
          </li>
        
          <li>
            <a href="/2017/04/27/88-Merge-Sorted-Array/">88. Merge Sorted Array</a>
          </li>
        
          <li>
            <a href="/2017/04/27/83-Remove-Duplicates-from-Sorted-List/">83. Remove Duplicates from Sorted List</a>
          </li>
        
          <li>
            <a href="/2017/04/25/70-Climbing-Stairs/">70. Climbing Stairs</a>
          </li>
        
      </ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">浏览数目</h3>
    <div class="widget">
      <ul class="popularlist">
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2017 LQX<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/about" class="mobile-nav-link">About</a>
  
    <a href="/collections" class="mobile-nav-link">Collections</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

<script>
function addCount (Counter) {
        url=$('.article-date').attr('href').trim();
        title = $('.article-title').text().trim();
        var query=new AV.Query(Counter);
        //use url as unique idnetfication
        query.equalTo("url",url);
        query.find({
            success: function(results){
                if(results.length>0)
                {
                    var counter=results[0];
                    counter.fetchWhenSave(true); //get recent result
                    counter.increment("time");
                    counter.save();
                }
                else
                {
                    var newcounter=new Counter();
                    newcounter.set("title",title);
                    newcounter.set("url",url);
                    newcounter.set("time",1);
                    newcounter.save(null,{
                        success: function(newcounter){
                        //alert('New object created');
                        },
                        error: function(newcounter,error){
                        alert('Failed to create');
                        }
                        });
                }
            },
            error: function(error){
                //find null is not a error
                alert('Error:'+error.code+" "+error.message);
            }
        });
}
$(function(){
        var Counter=AV.Object.extend("Counter");
        //only increse visit counting when intering a page
        if ($('.article-title').length == 1)
           addCount(Counter);
        var query=new AV.Query(Counter);
        query.descending("time");
        // the sum of popular posts
        query.limit(10); 
        query.find({
            success: function(results){
                    for(var i=0;i<results.length;i++)    
                    {
                        var counter=results[i];
                        title=counter.get("title");
                        url=counter.get("url");
                        time=counter.get("time");
                        // add to the popularlist widget
                        showcontent=title+" ("+time+")";
                        //notice the "" in href
                        $('.popularlist').append('<li><a href="'+url+'">'+showcontent+'</a></li>');
                    }
                },
            error: function(error){
                alert("Error:"+error.code+" "+error.message);
            }
            }
        )
        });
</script>
  </div>
</body>
</html>